System.register("chunks:///_virtual/Achievements.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,c=e.Component}],execute:function(){var r,o;t._RF.push({},"f6cebXJA1xJe7qQpEPQjHcJ","Achievements",void 0);var u=i.ccclass;i.property,e("Achievements",u("Achievements")(((o=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(n=e.call.apply(e,[this].concat(i))||this).gameAchievements=[{id:"GAME_PRESS_0",name:"按了0",desc:"在游戏中按下按钮0",condition:function(e){return 0==e.currentNum}},{id:"GAME_PRESS_1",name:"按了1",desc:"在游戏中按下按钮1",condition:function(e){return 1==e.currentNum}},{id:"GAME_PRESS_2",name:"按了2",desc:"在游戏中按下按钮2",condition:function(e){return 2==e.currentNum}},{id:"GAME_PRESS_3",name:"按了3",desc:"在游戏中按下按钮3",condition:function(e){return 3==e.currentNum}},{id:"GAME_PRESS_4",name:"按了4",desc:"在游戏中按下按钮4",condition:function(e){return 4==e.currentNum}},{id:"GAME_PRESS_5",name:"按了5",desc:"在游戏中按下按钮5",condition:function(e){return 5==e.currentNum}},{id:"GAME_PRESS_6",name:"按了6",desc:"在游戏中按下按钮6",condition:function(e){return 6==e.currentNum}},{id:"GAME_PRESS_7",name:"按了7",desc:"在游戏中按下按钮7",condition:function(e){return 7==e.currentNum}},{id:"GAME_PRESS_8",name:"按了8",desc:"在游戏中按下按钮8",condition:function(e){return 8==e.currentNum}},{id:"GAME_PRESS_9",name:"按了9",desc:"在游戏中按下按钮9",condition:function(e){return 9==e.currentNum}},{id:"GAME_PRESS_10",name:"按了10",desc:"在游戏中按下按钮10",condition:function(e){return 10==e.currentNum}}],n}n(t,e);var i=t.prototype;return i.start=function(){},t.getInstace=function(){return null==this._instance&&(this._instance=new t),this._instance},i.checkGameAchievements=function(e){var n=this.getAchievedIdArray(),t=[];this.gameAchievements.forEach((function(i){-1==n.indexOf(i.id)&&i.condition(e)&&(console.log("玩家达成了成就: "+i.name),t.push(i))})),t.length&&(this.updateAchievedIdArray(t),e.addAchievement(t))},i.getAllGameAchievements=function(){return this.gameAchievements},i.getAchievedIdArray=function(){return localStorage.getItem("achievement-id-array")?JSON.parse(localStorage.getItem("achievement-id-array")):(localStorage.setItem("achievement-id-array",JSON.stringify([])),[])},i.updateAchievedIdArray=function(e){for(var n=JSON.parse(localStorage.getItem("achievement-id-array")),t=0;t<e.length;t++)n.push(e[t].id);localStorage.setItem("achievement-id-array",JSON.stringify(n))},i.update=function(e){},t}(c))._instance=null,r=o))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievements.ts"],(function(e){var t,i,n,o,r,a,c,u,h,s,l,m,p,d,v,f,y,g,S,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Node,u=e.AudioClip,h=e.resources,s=e.SpriteFrame,l=e.Sprite,m=e.Label,p=e.find,d=e.UITransform,v=e.Vec3,f=e.tween,y=e.director,g=e.AudioSource,S=e.Component},function(e){A=e.Achievements}],execute:function(){var w,b,N,C,F,T,I,L,M;r._RF.push({},"3ba3bjmDipMi7O3j9b6ZHrH","GameManager",void 0);var O=a.ccclass,z=a.property;e("GameManager",(w=O("GameManager"),b=z({type:c}),N=z({type:u}),C=z({type:u}),w((I=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"achievementNotice",I,o(t)),n(t,"achieveAudio",L,o(t)),n(t,"buttonAudio",M,o(t)),t.currentNum=null,t.isShowingAchievement=!1,t.achievementToShowArray=[],t.audioSource=new g,t}i(t,e);var r=t.prototype;return r.start=function(){},r.addAchievement=function(e){this.achievementToShowArray=this.achievementToShowArray.concat(e)},r.showAchievement=function(){var e=this;if(!this.isShowingAchievement&&this.achievementToShowArray.length){this.isShowingAchievement=!0;var t=this.achievementToShowArray.shift();h.load("achievement/"+t.id+"/spriteFrame",s,(function(i,n){e.achievementNotice.getChildByName("Sprite").getComponent(l).spriteFrame=n,e.achievementNotice.getChildByName("Label").getComponent(m).string=t.name})),this.audioSource.playOneShot(this.achieveAudio),this.showFromLeftSide(this.achievementNotice,(function(){e.isShowingAchievement=!1}))}},r.showFromLeftSide=function(e,t){void 0===t&&(t=null);var i=p("Canvas").getComponent(d).width,n=e.getComponent(d).width,o=new v(-i/2-n,e.position.y,0);f(e).to(.4,{position:new v(-i/2+n/1.5,o.y,0)},{easing:"sineInOut"}).delay(1).to(.2,{position:o}).delay(.2).call((function(){t&&t()})).start()},r.onButtonClicked=function(e,t){this.audioSource.playOneShot(this.buttonAudio),this.currentNum=parseInt(t)},r.clearAchievementStorage=function(){this.audioSource.playOneShot(this.buttonAudio),localStorage.removeItem("achievement-id-array"),this.currentNum=null},r.goBack=function(){this.audioSource.playOneShot(this.buttonAudio),y.loadScene("Home")},r.update=function(e){A.getInstace().checkGameAchievements(this),this.showAchievement()},t}(S)).prototype,"achievementNotice",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"achieveAudio",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"buttonAudio",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=T))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/Home.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievements.ts"],(function(e){var t,n,i,o,a,r,s,c,u,l,h,d,p,m,v,f,g,b,y,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,c=e.Prefab,u=e.AudioClip,l=e.find,h=e.Label,d=e.director,p=e.AudioSource,m=e.instantiate,v=e.resources,f=e.SpriteFrame,g=e.Sprite,b=e.Button,y=e.Component},function(e){S=e.Achievements}],execute:function(){var A,C,w,B,z,I,M,O,P,F,H;a._RF.push({},"bfeaexXv65AKY2069pk025J","Home",void 0);var L=r.ccclass,N=r.property;e("Home",(A=L("Home"),C=N({type:s}),w=N({type:c}),B=N({type:s}),z=N({type:u}),A((O=t((M=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"achievementScrollViewContent",O,o(t)),i(t,"achievementPrefab",P,o(t)),i(t,"messageBoard",F,o(t)),i(t,"buttonAudio",H,o(t)),t.audioSource=new p,t}n(t,e);var a=t.prototype;return a.start=function(){this.initAchievements()},a.initAchievements=function(){for(var e=this,t=S.getInstace().getAchievedIdArray(),n=S.getInstace().getAllGameAchievements(),i=function(){var i=n[o],a=m(e.achievementPrefab);a.name=i.desc,e.achievementScrollViewContent.addChild(a),v.load("achievement/"+i.id+"/spriteFrame",f,(function(e,t){a.getChildByName("Sprite").getComponent(g).spriteFrame=t,a.getChildByName("Label").getComponent(h).string=i.name}));a.getChildByName("Sprite").on(b.EventType.CLICK,(function(t){e.audioSource.playOneShot(e.buttonAudio),e.showMessage(t.node.parent.name,1)}),e),t.indexOf(i.id)>-1&&(a.getChildByName("Sprite").getComponent(g).grayscale=!1)},o=0;o<n.length;o++)i()},a.showAchievements=function(){this.audioSource.playOneShot(this.buttonAudio),this.achievementScrollViewContent.parent.parent.active=!0,l("Canvas/Buttons").active=!1},a.hideAchievements=function(){this.audioSource.playOneShot(this.buttonAudio),this.achievementScrollViewContent.parent.parent.active=!1,l("Canvas/Buttons").active=!0},a.showMessage=function(e,t){void 0===t&&(t=1),this.messageBoard.active=!0,this.messageBoard.setSiblingIndex(1e4),this.messageBoard.children[0].getComponent(h).string=e,this.unschedule(this.hideMessage),-1!=t&&this.scheduleOnce(this.hideMessage,t)},a.hideMessage=function(){this.messageBoard.active=!1},a.enterGameScene=function(){this.audioSource.playOneShot(this.buttonAudio),d.loadScene("Game")},a.update=function(e){},t}(y)).prototype,"achievementScrollViewContent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(M.prototype,"achievementPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"messageBoard",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(M.prototype,"buttonAudio",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=M))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Achievements.ts","./GameManager.ts","./Home.ts","./Test.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievements.ts"],(function(e){var t,i,n,o,a,c,r,h,l,s,m,u,v,p,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,r=e.Node,h=e.Prefab,l=e.instantiate,s=e.resources,m=e.SpriteFrame,u=e.Sprite,v=e.Label,p=e.Button,f=e.Component},function(e){d=e.Achievements}],execute:function(){var g,T,y,w,b,C,S,A,N;a._RF.push({},"3e011egYWFA2o/wvvRbMTim","Test",void 0);var F=c.ccclass,B=c.property;e("Test",(g=F("Test"),T=B({type:r}),y=B({type:r}),w=B({type:h}),g((S=t((C=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,n(t,"achievementNotice",S,o(t)),n(t,"achievementScrollViewContent",A,o(t)),n(t,"achievementPrefab",N,o(t)),t.achievementWaitToShowTime=0,t}i(t,e);var a=t.prototype;return a.start=function(){},a.initAchievements=function(){for(var e=this,t=d.getInstace().getAchievedIdArray(),i=d.getInstace().getAllGameAchievements(),n=function(){var n=i[o],a=l(e.achievementPrefab);a.name=n.desc,e.achievementScrollViewContent.addChild(a),s.load("achievement/"+n.id+"/spriteFrame",m,(function(e,t){a.getChildByName("Sprite").getComponent(u).spriteFrame=t,a.getChildByName("Label").getComponent(v).string=n.name}));a.getChildByName("Sprite").on(p.EventType.CLICK,(function(e){}),e),t.indexOf(n.id)>-1&&(a.getChildByName("Sprite").getComponent(u).grayscale=!1)},o=0;o<i.length;o++)n()},a.showAchievements=function(){},a.closeAchievements=function(){},a.showTheAchieved=function(e){var t=this;if(0==this.achievementWaitToShowTime){this.scheduleOnce((function i(){t.achievementWaitToShowTime+=1.5;var n=e.shift();s.load("achievement/"+n.id+"/spriteFrame",m,(function(e,i){t.achievementNotice.getChildByName("Sprite").getComponent(u).spriteFrame=i,t.achievementNotice.getChildByName("Label").getComponent(v).string=n.name})),TweenToolbox.getInstace().showFromLeftSide(t.achievementNotice,(function(){e.length?t.scheduleOnce(i,t.achievementWaitToShowTime):t.achievementWaitToShowTime=0}))}),this.achievementWaitToShowTime)}else this.scheduleOnce((function(){t.showTheAchieved(e)}),this.achievementWaitToShowTime)},a.update=function(e){},t}(f)).prototype,"achievementNotice",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"achievementScrollViewContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(C.prototype,"achievementPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});